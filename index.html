<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>スプラトゥーン3 武器ランダム選択</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
            overflow: hidden;
        }
        #weapon-name {
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
            opacity: 1;
            transition: opacity 0.3s ease-in-out;
        }
        #history {
            margin-top: 30px;
            text-align: left;
            display: inline-block;
        }
        #history h2 {
            font-size: 20px;
            margin-bottom: 10px;
        }
        #history-list {
            list-style: none;
            padding: 0;
            max-height: 200px;
            overflow-y: auto;
            text-align: left;
        }
        #history-list li {
            padding: 5px 0;
            border-bottom: 1px solid #ddd;
        }
        button {
            font-size: 18px;
            padding: 10px 20px;
            cursor: pointer;
        }
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: red;
            opacity: 0.8;
            border-radius: 50%;
            animation: fall 1s linear forwards;
        }
        @keyframes fall {
            0% {
                transform: translateY(-100vh) translateX(0);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) translateX(calc(50vw - 50%));
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <h1>スプラトゥーン3 武器ランダム選択</h1>
    <div id="weapon-name">？？？</div>
    <button onclick="chooseWeapon()">武器を選ぶ</button>

    <div id="history">
        <h2>履歴</h2>
        <ul id="history-list"></ul>
    </div>

    <script>
        const weapons = [
            "スプラシューター", "スプラシューターコラボ", "わかばシューター", "もみじシューター",
            "シャープマーカー", "シャープマーカーネオ", "ボールドマーカー", "ボールドマーカーネオ",
            "N-ZAP85", "N-ZAP89", "プロモデラーMG", "プロモデラーRG",
            "プライムシューター", "プライムシューターコラボ", "ジェットスイーパー", "ジェットスイーパーカスタム",
            "ボトルガイザー", "L3リールガン", "L3リールガンD", "H3リールガン", "H3リールガンD",
            "スペースシューター", "スペースシューターコラボ", "ノヴァブラスター", "ノヴァブラスターネオ",
            "ホットブラスター", "ホットブラスターカスタム", "ロングブラスター", "ロングブラスターカスタム",
            "クラッシュブラスター", "クラッシュブラスターネオ", "ラピッドブラスター", "ラピッドブラスターデコ",
            "Rブラスターエリート", "Rブラスターエリートデコ", "S-BLAST92", "S-BLAST91",
            "スプラローラー", "スプラローラーコラボ", "カーボンローラー", "カーボンローラーデコ",
            "ダイナモローラー", "ダイナモローラーテスラ", "ヴァリアブルローラー", "ヴァリアブルローラーフォイル",
            "ワイドローラー"
        ];
        let history = [];

        function chooseWeapon() {
            const weaponName = document.getElementById("weapon-name");
            let count = 0;
            weaponName.style.opacity = "1";

            let interval = setInterval(() => {
                const randomIndex = Math.floor(Math.random() * weapons.length);
                weaponName.textContent = weapons[randomIndex];

                if (count < 10) {
                    count++;
                } else {
                    clearInterval(interval);
                    setTimeout(() => {
                        const finalIndex = Math.floor(Math.random() * weapons.length);
                        const finalWeapon = weapons[finalIndex];
                        weaponName.textContent = finalWeapon;
                        weaponName.style.opacity = "0.5";
                        setTimeout(() => {
                            weaponName.style.opacity = "1";
                            launchConfetti();
                            addToHistory(finalWeapon);
                        }, 200);
                    }, 300);
                }
            }, 100);
        }

        function addToHistory(weapon) {
            history.unshift(weapon);
            const list = document.getElementById("history-list");
            const item = document.createElement("li");
            item.textContent = weapon;
            list.insertBefore(item, list.firstChild);
        }

        function launchConfetti() {
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const confetti = document.createElement("div");
                    confetti.classList.add("confetti");
                    confetti.style.left = `${Math.random() * 100}vw`;
                    confetti.style.backgroundColor = getRandomColor();
                    confetti.style.animationDuration = `${Math.random() * 1.5 + 0.5}s`;
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 1500);
                }, i * 50);
            }
        }

        function getRandomColor() {
            const colors = ["red", "blue", "green", "yellow", "purple", "orange", "pink"];
            return colors[Math.floor(Math.random() * colors.length)];
        }
    </script>
</body>
</html>
